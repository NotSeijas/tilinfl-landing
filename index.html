<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TILIN - Productos</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  </head>
  <body id="main-body">
    <header>
      <img src="images/TILIN-LOGO.png" alt="Tilin Logo" class="logo-img" />
      <nav>
        <a href="#" onclick="mostrarInicio()">Inicio</a>
        <a href="#" onclick="mostrarProductos()">Productos</a>
        <a href="#" onclick="mostrarContacto()">Contacto</a>
        <a href="#" onclick="mostrarCarritoManual()" id="cart-icon">
          <i class="fas fa-shopping-cart"></i>
          <span id="cart-count">0</span>
        </a>
      </nav>
    </header>

    <!-- Inicio -->
    <section id="inicio" class="inicio" style="display: flex">
      <div id="particles-js" class="particles"></div>
      <div class="intro-content">
        <h2>¿Qué es Tilin?</h2>
        <p>
          Tilin es una solución antipulgas y antigarrapatas para perros y gatos,
          diseñada para ofrecer protección efectiva y segura con presentaciones
          adaptadas al tamaño de tu mascota.
        </p>

        <div class="videos-tilin">
          <!-- Primer TikTok embebido -->
          <blockquote
            class="tiktok-embed"
            cite="https://www.tiktok.com/@drplop_oficial/video/7525497987821292805"
            data-video-id="7525497987821292805"
            style="max-width: 100%; margin: 1.5rem auto"
          >
            <section></section>
          </blockquote>

          <!-- Segundo TikTok embebido -->
          <blockquote
            class="tiktok-embed"
            cite="https://www.tiktok.com/@drplop_oficial/photo/7507595616936070407"
            data-video-id="7507595616936070407"
            style="max-width: 100%; margin: 1.5rem auto"
          >
            <section></section>
          </blockquote>
        </div>
      </div>
    </section>

    <!-- Productos -->
    <section id="productos" class="slider" style="display: none">
      <div class="info">
        <h2 id="product-title"></h2>
        <p id="product-desc"></p>
        <button id="product-btn" onclick="agregarAlCarrito()">
          Agregar al carrito
        </button>
      </div>
      <img id="product-img" class="product-img" src="" alt="Producto" />
    </section>

    <!-- Carrito -->
    <section id="carrito" class="carrito" style="display: none">
      <div class="carrito-container mejorado">
        <h2>Carrito</h2>
        <ul id="lista-carrito" class="lista-carrito"></ul>

        <div class="resumen">
          <div class="subtotal">
            <span>Subtotal</span>
            <span id="subtotal">S/ 0</span>
          </div>
          <div class="envio">
            <span>Envío</span>
            <span class="free">Gratis</span>
          </div>
          <hr />
          <div class="total">
            <strong>Total</strong>
            <strong id="total-carrito">S/ 0</strong>
          </div>
        </div>

        <a id="whatsapp-btn" href="#" target="_blank" class="checkout-btn">
          Check out
        </a>
      </div>
    </section>

    <!-- Contacto -->
    <section id="contacto" class="contacto" style="display: none">
      <div class="contacto-img">
        <img src="images/tilinproduct.jpg" alt="Tilin Product" />
      </div>
      <div class="contacto-form">
        <p class="contacto-intro">
          ¿Te interesa nuestro producto?, Contáctanos!
        </p>
        <form>
          <input type="text" placeholder="Full Name" required />
          <input type="email" placeholder="E-mail" required />
          <textarea placeholder="Message" required></textarea>
          <button type="submit">Contact Us</button>
        </form>
      </div>
      <div class="contacto-info">
        <h3>Contact</h3>
        <p>diegoseijascorp@gmail.com</p>
        <h3>Based in</h3>
        <p>Jr. Urubamba - Pucallpa</p>
        <div class="social-icons">
          <a href="https://www.facebook.com" target="_blank"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="https://www.instagram.com" target="_blank"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="https://twitter.com" target="_blank"
            ><i class="fab fa-twitter"></i
          ></a>
        </div>
      </div>
    </section>

    <!-- Flechas -->
    <div class="nav-buttons" id="nav-arrows" style="display: none">
      <button onclick="prevSlide()">‹</button>
      <button onclick="nextSlide()">›</button>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>Síguenos en redes sociales:</p>
      <div class="social-icons">
        <a href="https://www.facebook.com" target="_blank"
          ><i class="fab fa-facebook-f" style="color: #1877f2"></i
        ></a>
        <a href="https://www.instagram.com" target="_blank"
          ><i class="fab fa-instagram" style="color: #e4405f"></i
        ></a>
        <a href="https://wa.me/51999999999" target="_blank"
          ><i class="fab fa-whatsapp" style="color: #25d366"></i
        ></a>
      </div>
      <div class="dog-animation">
        <img src="images/perrito.gif" alt="Perrito corriendo" />
      </div>
    </footer>

    <!-- Scripts -->
    <script async src="https://www.tiktok.com/embed.js"></script>

    <script>
      const productos = [
        {
          nombre: "Tilin Cats",
          precio: 35,
          descripcion:
            "Pipeta antipulgas para gatos de hasta 8kg. Elimina pulgas y garrapatas.",
          imagen: "images/pipeta-cats.png",
        },
        {
          nombre: "Tilin Perros Grandes",
          precio: 50,
          descripcion:
            "Pipeta antipulgas para perros grandes. Protección avanzada.",
          imagen: "images/tilin-grandes.png",
        },
        {
          nombre: "Tilin Pipeta 10ml",
          precio: 45,
          descripcion:
            "Tilin en presentación de 10ml. Eficaz y fácil de aplicar.",
          imagen: "images/tilin-pipeta-10.png",
        },
      ];

      let carrito = [];
      let currentIndex = 0;

      function ocultarTodasLasSecciones() {
        document.getElementById("inicio").style.display = "none";
        document.getElementById("productos").style.display = "none";
        document.getElementById("contacto").style.display = "none";
        document.getElementById("carrito").style.display = "none";
        document.querySelector(".footer").style.display = "none";
        document.getElementById("nav-arrows").style.display = "none";
      }

      function actualizarContadorCarrito() {
        document.getElementById("cart-count").textContent = carrito.length;
      }

      function agregarAlCarrito() {
        carrito.push(productos[currentIndex]);
        actualizarContadorCarrito();
      }

      function mostrarCarrito() {
        const lista = document.getElementById("lista-carrito");
        const total = document.getElementById("total-carrito");
        const btn = document.getElementById("whatsapp-btn");

        lista.innerHTML = "";
        let suma = 0;

        carrito.forEach((item) => {
          suma += item.precio;
          const li = document.createElement("li");
          li.textContent = `${item.nombre} - S/ ${item.precio}`;
          lista.appendChild(li);
        });

        total.textContent = `Total: S/ ${suma}`;
        btn.href = `https://wa.me/51999999999?text=Hola,%20quiero%20comprar:%0A${carrito
          .map((p) => `- ${p.nombre} (S/ ${p.precio})`)
          .join("%0A")}%0ATotal:%20S/%20${suma}`;

        ocultarTodasLasSecciones();
        document.getElementById("carrito").style.display = "flex";
      }

      function mostrarCarritoManual() {
        mostrarCarrito();
      }

      function mostrarInicio() {
        ocultarTodasLasSecciones();
        document.getElementById("inicio").style.display = "flex";
        document.querySelector(".footer").style.display = "block";
        initParticles();
      }

      function mostrarProductos() {
        ocultarTodasLasSecciones();
        document.getElementById("productos").style.display = "flex";
        document.getElementById("nav-arrows").style.display = "flex";
        destroyParticles();
        actualizarProducto();
      }

      function mostrarContacto() {
        ocultarTodasLasSecciones();
        document.getElementById("contacto").style.display = "flex";
        document.querySelector(".footer").style.display = "block";
        destroyParticles();
      }

      function actualizarProducto() {
        const producto = productos[currentIndex];
        document.getElementById("product-title").textContent = producto.nombre;
        document.getElementById("product-desc").textContent =
          producto.descripcion;
        document.getElementById("product-img").src = producto.imagen;
      }

      function nextSlide() {
        currentIndex = (currentIndex + 1) % productos.length;
        actualizarProducto();
      }

      function prevSlide() {
        currentIndex = (currentIndex - 1 + productos.length) % productos.length;
        actualizarProducto();
      }

      function initParticles() {
        particlesJS("particles-js", {
          particles: {
            number: { value: 60 },
            color: { value: "#903f7d" },
            shape: { type: "circle" },
            opacity: { value: 0.5 },
            size: { value: 3 },
            line_linked: {
              enable: true,
              distance: 150,
              color: "#903f7d",
              opacity: 0.4,
              width: 1,
            },
            move: { enable: true, speed: 3 },
          },
          interactivity: {
            events: {
              onhover: { enable: true, mode: "repulse" },
              onclick: { enable: true, mode: "push" },
            },
            modes: {
              repulse: { distance: 100 },
              push: { particles_nb: 4 },
            },
          },
        });
      }

      function destroyParticles() {
        const canvas = document.querySelector("#particles-js canvas");
        if (canvas) canvas.remove();
      }

      window.onload = () => {
        mostrarInicio();
      };
    </script>
  </body>
</html>
